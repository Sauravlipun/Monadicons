<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Monadicons — Create your personal icon</title>
<meta name="description" content="Create unique, eye-catching SVG/PNG icons for your profiles, websites, and socials. No design skills required.">
<meta name="theme-color" content="#7C3AED">
<style>
:root {
  --accent:#7C3AED;--accent-2:#5B21B6;--muted:#9fb0c9;--bg-1:#071124;--bg-2:#071a2b;--glass:rgba(255,255,255,.04);
}
body {margin:28px;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial;color:#e6eef8;background:radial-gradient(1200px 600px at 10% 10%,rgba(124,58,237,.12),transparent),linear-gradient(180deg,var(--bg-1),var(--bg-2));transition:background .3s,color .3s;}
.wrap{max-width:1100px;margin:0 auto;}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:22px;}
h1{font-size:22px;margin:0;letter-spacing:-0.5px;}
p.lead{margin:6px 0 0;color:var(--muted);font-size:13px;}
.card{display:flex;gap:20px;padding:18px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,.015),transparent);border:1px solid rgba(255,255,255,.03);align-items:flex-start;}
.left{flex:1;min-width:280px;}
label{display:block;font-size:13px;color:var(--muted);margin:10px 0 6px;}
input,select{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.04);background:transparent;color:inherit;outline:none;font-size:14px;transition:border-color .3s;}
input:focus,select:focus{border-color:var(--accent);}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;}
.btn{padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;cursor:pointer;font-weight:700;transition:background .3s,transform .2s;}
.btn:hover{background:var(--accent-2);transform:scale(1.05);}
.ghost{background:transparent;border:1px solid rgba(255,255,255,.06);color:var(--muted);padding:10px 12px;border-radius:10px;cursor:pointer;transition:background .3s,transform .2s;}
.ghost:hover{background:rgba(255,255,255,.1);transform:scale(1.05);}
.preview{flex:0 0 380px;min-width:220px;}
.preview-box{width:320px;height:320px;border-radius:14px;border:1px solid rgba(255,255,255,.04);display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(255,255,255,.01),transparent);overflow:hidden;position:relative;transition:transform .3s,box-shadow .3s;}
.preview-box:hover{transform:scale(1.03);box-shadow:0 10px 20px rgba(124,58,237,.2);}
.preview-glow{position:absolute;inset:0;background:radial-gradient(60% 40% at 20% 10%,rgba(124,58,237,.12),transparent),radial-gradient(40% 30% at 80% 90%,rgba(91,33,182,.06),transparent);pointer-events:none;border-radius:12px;}
.meta{font-size:13px;color:var(--muted);text-align:center;margin-top:10px;}
.gallery{margin-top:12px;display:flex;overflow-x:auto;gap:10px;scroll-snap-type:x mandatory;padding-bottom:10px;}
.chip{background:var(--glass);padding:8px;border-radius:10px;text-align:center;font-size:12px;color:var(--muted);cursor:pointer;transition:transform .2s;}
.chip:hover{transform:scale(1.1);}
</style>
</head>
<body>
<div class="wrap">
<header>
  <div>
    <h1>Monadicons</h1>
    <p class="lead">Create unique icons in seconds — no design skills required.</p>
  </div>
  <div>
    <button class="ghost" onclick="toggleTheme()">Toggle Theme</button>
  </div>
</header>

<main class="card" role="main">
<section class="left" aria-labelledby="generator-heading">
<h3 id="generator-heading" style="margin:0 0 6px;font-size:15px">Icon Generator</h3>

<label for="seed">Seed / Name</label>
<input id="seed" type="text" placeholder="e.g., aurora" value="anon" autocomplete="off"/>

<label for="style">Style</label>
<select id="style">
  <option value="adventurer">Adventurer</option>
  <option value="avataaars">Avataaars</option>
  <option value="big-ears">Big Ears</option>
  <option value="bottts">Bottts</option>
  <option value="croodles">Croodles</option>
  <option value="fun-emoji">Fun Emoji</option>
  <option value="icons">Icons</option>
  <option value="identicon">Identicon</option>
</select>

<label for="bgType">Background Type</label>
<select id="bgType">
  <option value="transparent">Transparent</option>
  <option value="solid">Solid</option>
</select>

<label for="bgColor">Background Color</label>
<input id="bgColor" type="color" value="#ffffff"/>

<label for="size">Size (px)</label>
<input id="size" type="number" value="512" min="64" max="1024"/>

<div class="controls" role="group">
  <button id="gen" class="btn">Generate</button>
  <button id="downloadSvg" class="ghost">Download SVG</button>
  <button id="downloadPng" class="ghost">Download PNG</button>
  <button id="copyEmbed" class="ghost">Copy embed</button>
  <button id="shareLink" class="ghost">Share Link</button>
</div>

<div class="gallery" id="examples" aria-hidden="true"></div>
</section>

<aside class="preview">
<h4 style="margin:0 0 8px;font-size:14px">Preview</h4>
<div id="previewBox" class="preview-box"></div>
<div class="preview-glow" aria-hidden="true"></div>
<div id="previewMeta" class="meta">Style: — • Seed: — • Size: —</div>
</aside>
</main>
</div>

<script>
const API_BASE = 'https://api.dicebear.com/9.x';
const seedEl=document.getElementById('seed');
const styleEl=document.getElementById('style');
const bgTypeEl=document.getElementById('bgType');
const bgColorEl=document.getElementById('bgColor');
const sizeEl=document.getElementById('size');
const previewBox=document.getElementById('previewBox');
const previewMeta=document.getElementById('previewMeta');
const examplesEl=document.getElementById('examples');

const sampleSeeds=['aurora','lumen','nova','zephyr','sol','aero','pixel','nebula','miso','sora','echo','boreal'];

function buildUrl(){
  const style=styleEl.value;
  const seed=encodeURIComponent(seedEl.value||'anon');
  const size=parseInt(sizeEl.value)||512;
  const bg=bgTypeEl.value;
  const color=bgColorEl.value.replace('#','');
  let url=`${API_BASE}/${style}/svg?seed=${seed}&size=${size}`;
  if(bg==='solid') url+=`&backgroundType=solid&backgroundColor=${color}`;
  return url;
}

async function renderPreview(){
  previewBox.innerHTML='Loading...';
  try{
    const res=await fetch(buildUrl());
    const svg=await res.text();
    previewBox.innerHTML=svg.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,'');
    previewMeta.textContent=`Style: ${styleEl.value} • Seed: ${seedEl.value} • Size: ${sizeEl.value}px`;
  }catch(e){
    previewBox.textContent='Preview error';
    previewMeta.textContent='';
    console.error(e);
  }
}

document.getElementById('gen').addEventListener('click',()=>renderPreview());

document.getElementById('downloadSvg').addEventListener('click',async()=>{
  try{
    const svg=await fetch(buildUrl()).then(r=>r.text());
    const blob=new Blob([svg],{type:'image/svg+xml'});
    const a=document.createElement('a');
    a.href=URL.createObjectURL(blob);
    a.download=`${seedEl.value||'icon'}.svg`;
    a.click();
    URL.revokeObjectURL(a.href);
  }catch(e){alert('SVG download failed');}
});

document.getElementById('downloadPng').addEventListener('click',async()=>{
  try{
    const svg=await fetch(buildUrl()).then(r=>r.text());
    const blob=new Blob([svg],{type:'image/svg+xml'});
    const url=URL.createObjectURL(blob);
    const img=new Image();
    img.onload=()=>{
      const s=parseInt(sizeEl.value)||512;
      const canvas=document.createElement('canvas');
      canvas.width=canvas.height=s;
      const ctx=canvas.getContext('2d');
      if(bgTypeEl.value==='solid'){ctx.fillStyle=bgColorEl.value;ctx.fillRect(0,0,s,s);}
      ctx.drawImage(img,0,0,s,s);
      canvas.toBlob((b)=>{
        const a=document.createElement('a');
        a.href=URL.createObjectURL(b);
        a.download=`${seedEl.value||'icon'}.png`;
        a.click();
      },'image/png');
      URL.revokeObjectURL(url);
    };
    img.src=url;
  }catch(e){alert('PNG creation failed');}
});

document.getElementById('copyEmbed').addEventListener('click',()=>{
  const url=buildUrl();
  const tag=`<img src="${url}" alt="${seedEl.value||'icon'}" width="${sizeEl.value}" height="${sizeEl.value}"/>`;
  navigator.clipboard.writeText(tag).then(()=>alert('Embed tag copied!')).catch(()=>alert('Copy failed'));
});

document.getElementById('shareLink').addEventListener('click',()=>{
  const params=new URLSearchParams({
    seed:seedEl.value,
    style:styleEl.value,
    bgType:bgTypeEl.value,
    bgColor:bgColorEl.value,
    size:sizeEl.value
  });
  const shareURL=window.location.origin+window.location.pathname+'?'+params.toString();
  navigator.clipboard.writeText(shareURL).then(()=>alert('Shareable link copied!')).catch(()=>alert('Copy failed'));
});

// Load values from URL if present
const urlParams=new URLSearchParams(window.location.search);
if(urlParams.get('seed')){seedEl.value=urlParams.get('seed');}
if(urlParams.get('style')){styleEl.value=urlParams.get('style');}
if(urlParams.get('bgType')){bgTypeEl.value=urlParams.get('bgType');}
if(urlParams.get('bgColor')){bgColorEl.value=urlParams.get('bgColor');}
if(urlParams.get('size')){sizeEl.value=urlParams.get('size');}
if(urlParams.get('seed')){renderPreview();}

// Examples
for(let s of sampleSeeds){
  const chip=document.createElement('button');
  chip.className='chip';
  chip.textContent=s;
  chip.onclick=()=>{seedEl.value=s;};
  examplesEl.appendChild(chip);
}

// Theme toggle
function toggleTheme(){document.body.classList.toggle('dark');document.body.classList.toggle('light');}
</script>
</body>
</html>
