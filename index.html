<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Monadicons — Create your personal icon</title>
<script src="https://cdn.jsdelivr.net/npm/jdenticon@3.1.1/dist/jdenticon.min.js"></script>
<style>
:root {
--accent:#7C3AED;--accent-2:#5B21B6;--muted:#9fb0c9;--bg-1:#071124;--bg-2:#071a2b;--glass:rgba(255,255,255,0.04);
--light-bg-1:#f0f4f8;--light-bg-2:#e0e7ee;--light-text:#333;--light-muted:#666;
}
body.dark{background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:#e6eef8;}
body.light{background:linear-gradient(180deg,var(--light-bg-1),var(--light-bg-2));color:var(--light-text);}
*{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial;margin:0;padding:0;}
.wrap{max-width:1100px;margin:0 auto;padding:28px;}
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:22px;}
h1{font-size:22px;}
.lead{color:var(--muted);font-size:13px;}
.card{display:flex;gap:20px;flex-wrap:wrap;padding:18px;border-radius:12px;background:rgba(255,255,255,0.02);}
.left{flex:1;min-width:280px;}
label{display:block;font-size:13px;color:var(--muted);margin:10px 0 6px;}
input[type="text"],select,input[type="number"],input[type="color"]{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;font-size:14px;}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;}
.btn{padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;cursor:pointer;font-weight:700;transition:0.2s;}
.btn:hover{background:var(--accent-2);}
.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);}
.ghost:hover{background:rgba(255,255,255,0.1);}
.preview{flex:0 0 380px;min-width:220px;}
.preview-box{width:320px;height:320px;border-radius:14px;border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;margin-bottom:6px;}
.preview-box svg{width:100%;height:100%;}
#particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:-1;}
footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center;}
@media(max-width:980px){.card{flex-direction:column;}.preview{width:100%;}.preview-box{width:100%;height:260px;}}
</style>
</head>
<body class="dark">
<canvas id="particles"></canvas>
<div class="wrap">
<header>
<div>
<h1>Monadicons</h1>
<p class="lead">Create unique icons instantly.</p>
</div>
<button class="ghost" onclick="toggleTheme()">Toggle Theme</button>
</header>

<main class="card">
<section class="left">
<label for="seed">Seed / Name</label>
<input id="seed" type="text" placeholder="e.g., aurora" value="anon">
<label for="style">Style</label>
<select id="style">
<option value="adventurer">Adventurer</option>
<option value="avataaars">Avataaars</option>
<option value="big-ears">Big Ears</option>
<option value="bottts">Bottts</option>
<option value="croodles">Croodles</option>
<option value="fun-emoji">Fun Emoji</option>
<option value="icons">Icons</option>
<option value="jdenticon">Jdenticon</option>
</select>
<label for="size">Size (px)</label>
<input id="size" type="number" min="64" max="1024" value="512">
<label for="bgType">Background type</label>
<select id="bgType">
<option value="transparent">Transparent</option>
<option value="solid">Solid</option>
<option value="gradient">Gradient</option>
<option value="dots">Dots</option>
<option value="stripes">Stripes</option>
</select>
<label for="bgColor">Background color</label>
<input id="bgColor" type="color" value="#7C3AED">
<div class="controls">
<button class="btn" id="btnGenerate">Generate</button>
<button class="btn" id="btnDownloadPNG">Download PNG</button>
<button class="btn" id="btnDownloadSVG">Download SVG</button>
<button class="ghost" id="btnCopyEmbed">Copy Embed</button>
<button class="ghost" id="btnShareX">Share X</button>
<button class="ghost" id="btnShareDiscord">Share Discord</button>
</div>
</section>

<section class="preview">
<div class="preview-box" id="previewBox"></div>
<div class="meta" id="previewMeta"></div>
</section>
</main>

<footer>
<p>Made with ❤️ by Monadicons • <a href="https://github.com/Monadicons" target="_blank">GitHub</a></p>
</footer>
</div>

<script>
// Theme toggle
function toggleTheme(){document.body.classList.toggle('dark');document.body.classList.toggle('light');}

// Particle background
const canvas=document.getElementById('particles');const ctx=canvas.getContext('2d');let particles=[];
function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas);resizeCanvas();
for(let i=0;i<80;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1,dx:(Math.random()-0.5)*0.5,dy:(Math.random()-0.5)*0.5});}
function animateParticles(){ctx.clearRect(0,0,canvas.width,canvas.height);particles.forEach(p=>{p.x+=p.dx;p.y+=p.dy;if(p.x>canvas.width||p.x<0)p.dx*=-1;if(p.y>canvas.height||p.y<0)p.dy*=-1;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fillStyle='rgba(124,58,237,0.08)';ctx.fill();});requestAnimationFrame(animateParticles);}
animateParticles();

// Generator
const previewBox=document.getElementById('previewBox');const previewMeta=document.getElementById('previewMeta');
const seedEl=document.getElementById('seed');const styleEl=document.getElementById('style');const sizeEl=document.getElementById('size');
const bgTypeEl=document.getElementById('bgType');const bgColorEl=document.getElementById('bgColor');
function getBackgroundCSS(type,color){
if(type==='solid')return color;
if(type==='gradient')return `linear-gradient(135deg, ${color} 0%, #ffffff33 100%)`;
if(type==='dots')return `radial-gradient(${color} 1px, transparent 1px)`; 
if(type==='stripes')return `repeating-linear-gradient(45deg, ${color} 0, ${color} 5px, transparent 5px, transparent 10px)`; 
return 'transparent';}
async function renderPreview(){
  previewBox.innerHTML=''; const style=styleEl.value; const seed=seedEl.value||'anon'; const size=parseInt(sizeEl.value)||512;
  const bg=getBackgroundCSS(bgTypeEl.value,bgColorEl.value); previewBox.style.background=bg;
  if(style==='jdenticon'){previewBox.innerHTML=`<svg width="${size}" height="${size}" data-jdenticon-hash="${seed}"></svg>`;jdenticon.update(previewBox.querySelector('svg'));}
  else{
    const url=`https://avatars.dicebear.com/api/${style}/${encodeURIComponent(seed)}.svg?size=${size}`;
    const res=await fetch(url); const svg=await res.text();
    previewBox.innerHTML=svg.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,'');
  }
  previewMeta.textContent=`Style: ${style} • Seed: ${seed} • Size: ${size}px`;
}
document.getElementById('btnGenerate').addEventListener('click',renderPreview);
[seedEl,styleEl,sizeEl,bgTypeEl,bgColorEl].forEach(el=>el.addEventListener('change',renderPreview));
window.addEventListener('load',renderPreview);

// Download PNG
document.getElementById('btnDownloadPNG').addEventListener('click',()=>{
  const svgEl=previewBox.querySelector('svg'); if(!svgEl){alert('Generate icon first');return;}
  const svgData=new XMLSerializer().serializeToString(svgEl);
  const canvas2=document.createElement('canvas'); canvas2.width=svgEl.width.baseVal.value; canvas2.height=svgEl.height.baseVal.value;
  const ctx2=canvas2.getContext('2d');
  const img=new Image();
  img.onload=()=>{ctx2.drawImage(img,0,0);canvas2.toBlob(b=>{const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='monadicon.png';a.click();},'image/png');};
  img.src='data:image/svg+xml;base64,'+btoa(unescape(encodeURIComponent(svgData)));
});

// Download SVG with background
document.getElementById('btnDownloadSVG').addEventListener('click',()=>{
  const svgEl=previewBox.querySelector('svg'); if(!svgEl){alert('Generate icon first');return;}
  const bg=previewBox.style.background||'transparent';
  const svgData=new XMLSerializer().serializeToString(svgEl);
  const svgWithBG=`<svg xmlns="http://www.w3.org/2000/svg" width="${svgEl.width.baseVal.value}" height="${svgEl.height.baseVal.value}">
  <rect width="100%" height="100%" fill="${bg}"/>
  ${svgData.replace(/<svg[^>]*>|<\/svg>/gi,'')}
  </svg>`;
  const a=document.createElement('a'); a.href='data:image/svg+xml;base64,'+btoa(svgWithBG); a.download='monadicon.svg'; a.click();
});

// Copy embed
document.getElementById('btnCopyEmbed').addEventListener('click',()=>{
  const svgEl=previewBox.querySelector('svg'); if(!svgEl){alert('Generate icon first');return;}
  const bg=previewBox.style.background||'transparent';
  const svgData=new XMLSerializer().serializeToString(svgEl);
  const embed=`<svg xmlns="http://www.w3.org/2000/svg" width="${svgEl.width.baseVal.value}" height="${svgEl.height.baseVal.value}"><rect width="100%" height="100%" fill="${bg}"/>${svgData.replace(/<svg[^>]*>|<\/svg>/gi,'')}</svg>`;
  navigator.clipboard.writeText(embed); alert('Embed code copied!');
});

// Share
document.getElementById('btnShareX').addEventListener('click',()=>{window.open('https://twitter.com/intent/tweet?text=Check out my Monadicon!','_blank');});
document.getElementById('btnShareDiscord').addEventListener('click',()=>{window.open('https://discord.com/channels/@me','_blank');});
</script>
</body>
</html>
