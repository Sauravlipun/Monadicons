<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monadicons Social</title>
<style>
body { margin:0; font-family:'Arial', sans-serif; background: linear-gradient(135deg,#0e0e0e,#1c1c1c); color:#fff; }
.container { max-width:1200px; margin:auto; padding:20px; }
.header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; flex-wrap:wrap; }
.header h1 { font-size:2rem; background:linear-gradient(90deg,#7b2ff7,#f107a3); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
.header a { text-decoration:none; color:#fff; padding:8px 14px; border-radius:6px; background:linear-gradient(90deg,#7b2ff7,#f107a3); font-weight:bold; margin-top:10px; }

.upload-card { background:#1c1c1c; padding:20px; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,0.5); margin-bottom:30px; transition:0.3s; }
.upload-card:hover { box-shadow:0 6px 20px rgba(0,0,0,0.7); }
.upload-card h2 { margin-top:0; color:#f107a3; }
label { display:block; margin-top:10px; font-weight:bold; }
input, textarea { width:100%; margin-top:5px; padding:10px; border-radius:8px; border:none; outline:none; background:#2a2a2a; color:#fff; }
button { margin-top:12px; padding:10px 14px; background:linear-gradient(90deg,#7b2ff7,#f107a3); color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer; transition:0.3s; }
button:hover { transform:scale(1.05); }

.drag-drop { border: 2px dashed #7b2ff7; border-radius:10px; padding:20px; text-align:center; margin-top:10px; cursor:pointer; transition:0.3s; }
.drag-drop.hover { background:#2a2a2a; }

.search-bar { margin-bottom:20px; }
.search-bar input { width:100%; padding:12px; border-radius:10px; border:none; background:#2a2a2a; color:#fff; font-size:16px; outline:none; }

.top-creators, .daily-leaderboard, .weekly-leaderboard { display:flex; gap:20px; margin-bottom:30px; flex-wrap:wrap; }
.top-card, .leader-card, .card { flex:1; background:#3a3a3a; border-radius:12px; padding:15px; text-align:center; box-shadow:0 4px 12px rgba(0,0,0,0.5); transition:0.3s; position:relative; max-width:250px; margin-bottom:15px; }
.top-card:hover, .leader-card:hover, .card:hover { transform:translateY(-5px); box-shadow:0 6px 20px rgba(0,0,0,0.6); }
.top-card img, .leader-card img, .card img { max-width:100%; max-height:150px; border-radius:12px; margin-bottom:8px; transition:0.3s; }

.vote-btn { background:#f107a3; margin-top:6px; font-weight:bold; padding:6px 10px; border-radius:6px; cursor:pointer; }

.progress-container { width:100%; height:8px; background:#444; border-radius:4px; margin-top:6px; }
.progress-bar { width:0%; height:8px; background:#7b2ff7; border-radius:4px; transition:0.5s ease-in-out; }

.chat-box { background:#1a1a1a; border-radius:12px; padding:15px; margin-top:30px; max-width:100%; box-shadow:0 4px 12px rgba(0,0,0,0.5); }
.chat-log { max-height:250px; overflow-y:auto; padding:5px; background:#2a2a2a; border-radius:10px; margin-bottom:10px; }
.chat-log p { margin:5px 0; transition:0.3s; }
.chat-input { display:flex; gap:10px; }
.chat-input input { flex:1; padding:8px; border-radius:8px; border:none; outline:none; background:#2a2a2a; color:#fff; }
.chat-input button { padding:8px 12px; }
.emoji-picker { display:flex; gap:6px; flex-wrap:wrap; margin-top:5px; }
.emoji-picker span { cursor:pointer; font-size:20px; transition:0.2s; }
.emoji-picker span:hover { transform:scale(1.3); }

.footer { text-align:center; margin-top:50px; font-size:14px; color:#bbb; }

/* Modal */
.modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background:rgba(0,0,0,0.85); }
.modal-content { background:#1c1c1c; margin:5% auto; padding:20px; border-radius:12px; width:90%; max-width:500px; text-align:center; box-shadow:0 4px 15px rgba(0,0,0,0.7); position:relative; }
.modal-content img { max-width:100%; max-height:300px; border-radius:12px; margin-bottom:10px; }
.close { position:absolute; top:10px; right:15px; color:#fff; font-size:28px; font-weight:bold; cursor:pointer; }
.close:hover { color:#f107a3; }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>Monadicons Social</h1>
    <a href="index.html">‚Üê Back to Home</a>
  </div>

  <div class="upload-card">
    <h2>Upload Your Artwork</h2>
    <label for="username">Name / Handle</label>
    <input id="username" type="text" placeholder="Enter your name or @handle">
    <label for="description">Description</label>
    <textarea id="description" rows="3" placeholder="Describe your work"></textarea>
    <div class="drag-drop" id="dropArea">Drag & Drop Image Here or Click to Upload</div>
    <input id="file" type="file" accept="image/*" style="display:none">
    <div class="progress-bar" id="progressBar"></div>
    <button onclick="uploadArtwork()">Upload & Showcase</button>
  </div>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search artworks by name or description" oninput="filterGallery()">
  </div>

  <h2>Top Creators - Top 10 get Free Mon tokens!</h2>
  <div id="topCreators" class="top-creators"></div>

  <h2>Daily Leaderboard</h2>
  <div id="dailyLeaderboard" class="daily-leaderboard"></div>

  <h2>Weekly Leaderboard</h2>
  <div id="weeklyLeaderboard" class="weekly-leaderboard"></div>

  <h2>Community Gallery</h2>
  <div id="gallery" class="gallery"></div>

  <div class="chat-box">
    <h3>Community Chat</h3>
    <div id="chatLog" class="chat-log"></div>
    <div class="emoji-picker" id="emojiPicker">
      <span onclick="addEmoji('üòÄ')">üòÄ</span>
      <span onclick="addEmoji('üé®')">üé®</span>
      <span onclick="addEmoji('üî•')">üî•</span>
      <span onclick="addEmoji('üíñ')">üíñ</span>
      <span onclick="addEmoji('üöÄ')">üöÄ</span>
    </div>
    <div class="chat-input">
      <input type="text" id="chatMessage" placeholder="Type a message">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <div class="footer">Powered by Monadicons &copy; 2025</div>
</div>

<!-- Featured Artwork Modal -->
<div id="featuredModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h2>Featured Artwork of the Day</h2>
    <img id="featuredImage" src="" alt="Featured Artwork">
    <h3 id="featuredUser"></h3>
    <p id="featuredDesc"></p>
  </div>
</div>

<script>
let artworks = JSON.parse(localStorage.getItem("monadiconsGallery") || "[]");
let chatMessages = JSON.parse(localStorage.getItem("monadiconsChat") || "[]");
let dropArea = document.getElementById("dropArea");
let fileInput = document.getElementById("file");

// Drag & Drop
dropArea.addEventListener("click", ()=>fileInput.click());
dropArea.addEventListener("dragover", e=>{ e.preventDefault(); dropArea.classList.add("hover"); });
dropArea.addEventListener("dragleave", e=>{ e.preventDefault(); dropArea.classList.remove("hover"); });
dropArea.addEventListener("drop", e=>{ e.preventDefault(); dropArea.classList.remove("hover"); if(e.dataTransfer.files[0]) fileInput.files = e.dataTransfer.files; });

function resetDailyVotes() { const now = new Date(); const lastReset = localStorage.getItem("lastDailyReset"); if(!lastReset || new Date(lastReset).getDate() !== now.getDate()){ artworks.forEach(a => a.dailyVotes = 0); localStorage.setItem("lastDailyReset", now); localStorage.setItem("monadiconsGallery", JSON.stringify(artworks)); } }
function resetWeeklyVotes() { const now = new Date(); const lastReset = localStorage.getItem("lastWeeklyReset"); if(!lastReset || new Date(lastReset).getWeek() !== now.getWeek()){ artworks.forEach(a => a.weeklyVotes = 0); localStorage.setItem("lastWeeklyReset", now); localStorage.setItem("monadiconsGallery", JSON.stringify(artworks)); } }
Date.prototype.getWeek = function(){ var d = new Date(Date.UTC(this.getFullYear(), this.getMonth(), this.getDate())); var dayNum = d.getUTCDay() || 7; d.setUTCDate(d.getUTCDate() + 4 - dayNum); var yearStart = new Date(Date.UTC(d.getUTCFullYear(),0,1)); return Math.ceil((((d - yearStart) / 86400000) + 1)/7); }

function renderTopCreators(){
  const topDiv = document.getElementById("topCreators"); topDiv.innerHTML="";
  artworks.sort((a,b)=>b.votes-a.votes).slice(0,10).forEach((item,i)=>{
    const card = document.createElement("div"); card.className="top-card";
    card.innerHTML=`<img src="${item.image}" alt="Artwork"><h3>${item.username}</h3><p>Votes: ${item.votes}</p>`;
    topDiv.appendChild(card);
  });
}
function renderLeaderboard(type){
  const div = document.getElementById(type+"Leaderboard"); div.innerHTML="";
  artworks.sort((a,b)=>b[type+"Votes"]-a[type+"Votes"]).forEach(item=>{
    const card = document.createElement("div"); card.className="leader-card";
    card.innerHTML=`<img src="${item.image}" alt="Artwork"><h3>${item.username}</h3><p>${type.charAt(0).toUpperCase()+type.slice(1)} Votes: ${item[type+"Votes"]}</p>`;
    div.appendChild(card);
  });
}
function renderGallery(){
  const galleryDiv = document.getElementById("gallery"); galleryDiv.innerHTML="";
  artworks.forEach((item,i)=>{
    const card = document.createElement("div"); card.className="card";
    const progressPercent = ((item.votes||0)/Math.max(...artworks.map(a=>a.votes||0),1))*100;
    card.innerHTML = `<img src="${item.image}" alt="Artwork"><h3>${item.username}</h3><p>${item.description}</p>
    <button class="vote-btn" onclick="vote(${i})">Vote üëç</button>
    <div class="progress-container"><div class="progress-bar" style="width:${progressPercent}%"></div></div>`;
    galleryDiv.appendChild(card);
  });
}

function uploadArtwork(){
  const username = document.getElementById("username").value.trim();
  const description = document.getElementById("description").value.trim();
  const file = document.getElementById("file").files[0];
  if(!username||!description||!file){ alert("Fill all fields!"); return; }
  const reader = new FileReader();
  reader.onload = function(e){
    const imgData = e.target.result;
    artworks.push({username,description,image:imgData,votes:0,dailyVotes:0,weeklyVotes:0,points:0});
    localStorage.setItem("monadiconsGallery", JSON.stringify(artworks));
    animateUpload();
    renderGallery(); renderTopCreators(); renderLeaderboard("daily"); renderLeaderboard("weekly");
    document.getElementById("username").value=""; document.getElementById("description").value=""; document.getElementById("file").value="";
  }
  reader.readAsDataURL(file);
}

function animateUpload(){
  const galleryDiv = document.getElementById("gallery");
  galleryDiv.lastChild.style.transform="scale(0.5)";
  setTimeout(()=>{ galleryDiv.lastChild.style.transition="0.5s"; galleryDiv.lastChild.style.transform="scale(1)"; },50);
}

function vote(idx){
  artworks[idx].votes = (artworks[idx].votes||0)+1;
  artworks[idx].dailyVotes = (artworks[idx].dailyVotes||0)+1;
  artworks[idx].weeklyVotes = (artworks[idx].weeklyVotes||0)+1;
  localStorage.setItem("monadiconsGallery", JSON.stringify(artworks));
  renderGallery(); renderTopCreators(); renderLeaderboard("daily"); renderLeaderboard("weekly");
  animateVote(idx);
}

function animateVote(idx){
  const galleryDiv = document.getElementById("gallery");
  const progressBar = galleryDiv.children[idx].querySelector(".progress-bar");
  progressBar.style.width = ((artworks[idx].votes||0)/Math.max(...artworks.map(a=>a.votes||0),1))*100 + "%";
}

function filterGallery(){
  const term = document.getElementById("searchInput").value.toLowerCase();
  const galleryDiv = document.getElementById("gallery");
  galleryDiv.innerHTML="";
  artworks.filter(a=>a.username.toLowerCase().includes(term)||a.description.toLowerCase().includes(term)).forEach((item,i)=>{
    const card = document.createElement("div"); card.className="card";
    const progressPercent = ((item.votes||0)/Math.max(...artworks.map(a=>a.votes||0),1))*100;
    card.innerHTML = `<img src="${item.image}" alt="Artwork"><h3>${item.username}</h3><p>${item.description}</p>
    <button class="vote-btn" onclick="vote(${artworks.indexOf(item)})">Vote üëç</button>
    <div class="progress-container"><div class="progress-bar" style="width:${progressPercent}%"></div></div>`;
    galleryDiv.appendChild(card);
  });
}

// Featured Artwork Modal
let featuredIdx = 0;
function showFeatured(){
  if(artworks.length===0) return;
  const featured = artworks[featuredIdx%artworks.length];
  document.getElementById("featuredImage").src = featured.image;
  document.getElementById("featuredUser").textContent = featured.username;
  document.getElementById("featuredDesc").textContent = featured.description;
  document.getElementById("featuredModal").style.display="block";
  featuredIdx++;
}
function closeModal(){ document.getElementById("featuredModal").style.display="none"; }

// Chat
function renderChat(){
  const log = document.getElementById("chatLog"); log.innerHTML="";
  chatMessages.forEach(msg=>{
    const p=document.createElement("p");
    p.innerHTML=`<strong>${msg.user}</strong>: ${msg.text}`;
    log.appendChild(p);
  });
  log.scrollTop = log.scrollHeight;
}
function sendMessage(){
  const msgInput = document.getElementById("chatMessage");
  const text = msgInput.value.trim(); if(!text) return;
  chatMessages.push({user:"User", text});
  localStorage.setItem("monadiconsChat", JSON.stringify(chatMessages));
  msgInput.value=""; renderChat();
}
function addEmoji(e){ document.getElementById("chatMessage").value += e; }

// Initialize
function loadAll(){ resetDailyVotes(); resetWeeklyVotes(); renderTopCreators(); renderLeaderboard("daily"); renderLeaderboard("weekly"); renderGallery(); renderChat(); showFeatured(); }

// Realtime simulation
setInterval(()=>{
  const stored = JSON.parse(localStorage.getItem("monadiconsGallery")||"[]");
  if(JSON.stringify(stored)!==JSON.stringify(artworks)){ artworks=stored; loadAll(); }
  const storedChat = JSON.parse(localStorage.getItem("monadiconsChat")||"[]");
  if(JSON.stringify(storedChat)!==JSON.stringify(chatMessages)){ chatMessages=storedChat; renderChat(); }
},2000);

loadAll();
</script>
</body>
</html>
